# AdventOfCyber 2023

## Day 1 Machine learning - Chatbot, tell me, if you're really safe?

Chatbotlarda yaşanan bilgi sızdırılmasının önüne geçmek için alınmış güvenlik önlemlerini veya filtrelemelerin bypass edilmesiyle ilgili bir challenge. 

Buna benzer pratik yapmak için oluşturulmuş bazı örnek challengelar, 
* https://gandalf.lakera.ai/
* https://doublespeak.chat/
* 

## Day 2 Log analysis - O Data, All Ye Faithful

network trafiğini içeren bir csv dosyası verilmiş ve python kütüphanelerinden pandas ile bazı istatiksel işlemlerin gerçekleştirilmesi istenmektedir.

![](../../../pics/Pasted%20image%2020231202201516.png)

python notebook içerisinde bizim için gerekli kütüphanelerin import edildiği ve verilerin dosyadan okunduğu kod parçaları bulunmaktadır. Bunları önce bir çalıştıralım. 
İlk soruda PacketNumber sütununa bakarak kaç adet paket yakalanmış olduğunu bulmamız isteniyor. Burada birçok yöntem kullanabiliriz. df.info() metodu ile sütun bilgileri veri sayısı ve türü gibi bilgiler gösterilir. Diğer bir yöntem olarak da df.counts() metodu, burada da var olan sütunlardaki null olmayan veri sayısını listelemektedir. Buradan yakalanan paket sayısının 100 olduğunu görebiliriz.

![](../../../pics/Pasted%20image%2020231203072758.png)

İkinci soruda en fazla trafik hangi IP adresinden gönderildiği sorulmaktadır. Verilen tabloda Source ve Destination olmak üzere IP adreslerini içeren iki sütun bulunuyor. En çok trafiği gönderen kaynak IP adresini bulmak için Source sütunu ile işlem gerçekleştireceğiz. 

>  `df[SütunAdı].value_counts()`

metodunu kullanarak Source sütunu içindeki hangi verinin kaç tane tekrarlandığı listelenmektedir.

![](../../../pics/Pasted%20image%2020231203073553.png)

Benzer şekilde son soruda en sık kullanılan protokol sorulmaktadır. Protocol sütununu kullanarak veriler value_counts() metodu ile sayılır. Buna ek olarak idxmax() metodu ile de sadece en çok sayıda olan verinin değeri gösterilebilir. 

>`df["Protocol"].value_counts().idxmax()`

komutunun çıktısında en çok kullanılan protokolün ICMP olduğunu görmekteyiz.

![](../../../pics/Pasted%20image%2020231202200927.png)

## Day 3 Brute-Forcing- Hydra is Coming to Town


![](../../../pics/Pasted%20image%2020231203205707.png)

![](../../../pics/Pasted%20image%2020231203212218.png)

Uygulamaya 3 basamaklı pin girerek devam edilebiliyor. PIN denemeleri ile yani brute-force saldırısı gerçekleştirerek flag değerine erişmemiz gerekiyor. Bunun için birçok yöntem ve araç bulunmaktadır. 

İlk yöntem, burada da bahsedilen crunch ve hydra araçlarının kullanımı. crunch aracını kullanarak istenilen karakterler ve patternlar ile belirtilen uzunlukta parola listesi oluşturulabilir.

![](../../../pics/Pasted%20image%2020231203210305.png)

Parola listesini oluşturduktan sonra, bu listeyi hydra aracı ile brute-force yapmak için kullanacağız. 
* -P parametresine pin listesini, 
* -l için burada herhangi bir kullanıcı adı istemediği için boş bırakıyoruz (Not: bu parametreyi vermediğimiz zaman bize en azından bir kullanıcı ismi veya listesi istediği şeklinde hata dönmektedir.). 
* -f parametresi doğru değeri bulduğu zaman programın durmasını sağlamaktadır.
* http-post-form ile hangi http metodun kullanılacağı belirtilmektedir.
* /login.php pin kodunun gönderildiği sayfa, pin=\^PASS\^ ile verilen liste pin değeri için denenmekte olduğu bildiriliyor ve Access denied ifadesi ile de verilen değerin sağlanmadığı durumu belirtilmektedir. Bu değerin bulunmadığı durumda pin kodu tespit edilmiş diyebiliriz.
* -s parametresi ile port numarası belirtilir.


![](../../../pics/Pasted%20image%2020231203212643.png)

Bulunan pin kodu ile girdiğimiz zaman arayüze erişim sağlıyoruz.

![](../../../pics/Pasted%20image%2020231203213506.png)

Diğer bir yöntem ise burp aracını kullanarak intruder modülü ile brute-force saldırısı yapmak. Gönderilen POST isteğini burp ile yakalıyorum ve intruder aracına gönderiyorum

![](../../../pics/Pasted%20image%2020231203213615.png)

Sonrasında hangi değer için saldırı gerçekleştirilecek, bunun için payload listesi belirleme gibi işlemleri gerçekleştireceğim. pin değerinin deneneceğini işaretledik.

![](../../../pics/Pasted%20image%2020231203213708.png)

Payloads kısmında oluşturulacak değerlerin hangi karakterler içermesi gerektiği ve uzunluğu gibi özellikleri belirleyelim. Bir önceki yöntemde benzer işlemi crunch aracı ile yapmıştık.

![](../../../pics/Pasted%20image%2020231203213806.png)

Burada işimizi kolaylaştırmak için Access denied ifadesini grepleyip çıkartabiliriz saldırı esnasında. Refetch response diyerek gelen cevap içerisinde hangi ifade bizim işimize yarıyorsa onu seçebiliriz pin değerinin yanlış girildiğine dair.

![](../../../pics/Pasted%20image%2020231203214546.png)

Burada bir durum daha var giden isteğe cevap olarak 302 redirection dönüyor brute-force esansında otomatik yönlendirmesi için ayarlar kısmından izin verebiliriz.

![](../../../pics/Pasted%20image%2020231203214557.png)

Saldırı sonlandıktan sonra hangi pin değerinin doğru olduğunu görebiliriz. Access denied ifadesini çıkartmasak bile gelen cevap uzunluğu da bizim için ayırt edici olabilir.

![](../../../pics/Pasted%20image%2020231203214723.png)
